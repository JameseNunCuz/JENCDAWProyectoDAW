<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>CFGS Desarrollo de Aplicaciones Web</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <h1 id="cfgs-desarrollo-de-aplicaciones-web">CFGS Desarrollo de Aplicaciones Web</h1>
<ul>
<li><a href="#cfgs-desarrollo-de-aplicaciones-web">CFGS Desarrollo de Aplicaciones Web</a>
<ul>
<li><a href="#1-entorno-de-desarrollo">1. Entorno de Desarrollo</a>
<ul>
<li><a href="#11-ubuntu-server-24043-lts">1.1 Ubuntu Server 24.04.3 LTS</a>
<ul>
<li><a href="#111-configuraci%C3%B3n-inicial">1.1.1 <strong>Configuración inicial</strong></a>
<ul>
<li><a href="#nombre-y-configuraic%C3%B3n-de-red">Nombre y configuraicón de red</a></li>
<li><a href="#actualizar-el-sistema"><strong>Actualizar el sistema</strong></a></li>
<li><a href="#configuraci%C3%B3n-fecha-y-hora"><strong>Configuración fecha y hora</strong></a></li>
<li><a href="#cuentas-administradoras"><strong>Cuentas administradoras</strong></a></li>
<li><a href="#habilitar-cortafuegos"><strong>Habilitar cortafuegos</strong></a></li>
<li><a href="#memeoria-y-almacenamiento"><strong>Memeoria y almacenamiento</strong></a></li>
</ul>
</li>
<li><a href="#112-instalaci%C3%B3n-del-servidor-web">1.1.2 Instalación del servidor web</a>
<ul>
<li><a href="#instalaci%C3%B3n">Instalación</a></li>
<li><a href="#verficaci%C3%B3n-del-servicio">Verficación del servicio</a></li>
<li><a href="#virtual-hosts">Virtual Hosts</a></li>
<li><a href="#permisos-y-usuarios">Permisos y usuarios</a></li>
</ul>
</li>
<li><a href="#113-php">1.1.3 PHP</a>
<ul>
<li><a href="#instalar-php">Instalar php</a></li>
<li><a href="#configurar-php">Configurar php</a></li>
</ul>
</li>
<li><a href="#114-mysql">1.1.4 MySQL</a></li>
<li><a href="#115-xdebug">1.1.5 XDebug</a></li>
<li><a href="#116-dns">1.1.6 DNS</a></li>
<li><a href="#117-sftp">1.1.7 SFTP</a></li>
<li><a href="#118-apache-tomcat">1.1.8 Apache Tomcat</a></li>
<li><a href="#119-ldap">1.1.9 LDAP</a></li>
</ul>
</li>
<li><a href="#12-windows-11">1.2 Windows 11</a>
<ul>
<li><a href="#121-configuraci%C3%B3n-inicial">1.2.1 <strong>Configuración inicial</strong></a>
<ul>
<li><a href="#nombre-y-configuraci%C3%B3n-de-red"><strong>Nombre y configuración de red</strong></a></li>
<li><a href="#cuentas-administradoras-1"><strong>Cuentas administradoras</strong></a></li>
</ul>
</li>
<li><a href="#122-navegadores">1.2.2 <strong>Navegadores</strong></a></li>
<li><a href="#123-filezilla">1.2.3 <strong>FileZilla</strong></a></li>
<li><a href="#124-netbeans">1.2.4 <strong>Netbeans</strong></a>
<ul>
<li><a href="#creaci%C3%B3n-de-proyectos"><strong>Creación de proyectos</strong></a></li>
</ul>
</li>
<li><a href="#125-visual-studio-code">1.2.5 <strong>Visual Studio Code</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#2-github">2. GitHub</a></li>
<li><a href="#3entorno-de-explotaci%C3%B3n">3.Entorno de Explotación</a></li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">DAW/DWES Tema2</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="file:///d:\Despliegue\JNCDAWProyectoDAW-main\webroot\img\portada.jpg" alt="Alt"></td>
</tr>
<tr>
<td style="text-align:center">INSTALACIÓN, CONFIGURACIÓN Y DOCUMENTACIÓN DE ENTORNO DE DESARROLLO Y DEL ENTORNO DE EXPLOTACIÓN</td>
</tr>
</tbody>
</table>
<h2 id="1-entorno-de-desarrollo">1. Entorno de Desarrollo</h2>
<h3 id="11-ubuntu-server-24043-lts">1.1 Ubuntu Server 24.04.3 LTS</h3>
<p>Este documento es una guía detallada del proceso de instalación y configuración de un servidor de aplicaciones en Ubuntu Server utilizando Apache, con soporte PHP y MySQL</p>
<h4 id="111-configuración-inicial">1.1.1 <strong>Configuración inicial</strong></h4>
<h5 id="nombre-y-configuraicón-de-red">Nombre y configuraicón de red</h5>
<blockquote>
<p><strong>Nombre de la máquina</strong>: jenc-used<br>
<strong>Memoria RAM</strong>: 2G<br>
<strong>Particiones</strong>: 150G(/) y resto (/var)<br>
<strong>Configuración de red interface</strong>: xxxx <br>
<strong>Dirección IP</strong> :10.199.9.174/22<br>
<strong>GW</strong>: 10.199.8.1/22<br>
<strong>DNS</strong>: 10.151.123.21 y 10.151.126.21</p>
</blockquote>
<p>Para cambiar el nombre de la maquina iremos al fichero <strong>/etc/hostname</strong> y aqui cambiaremos su contenido por el nombre de usuario deseado, despues iremos al fichero <strong>/etc/hosts</strong> y cambiaremos el nombre que pone en la segunda linea por el mismo que pusimos en el anterior fichero.</p>
<pre><code class="language-bash">127.0.0.1 localhost
127.0.1.1 jenc-used2

<span class="hljs-comment"># The following lines are desirable for IPv6 capable hosts</span>
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
</code></pre>
<p>Despues usamos <strong>hostnamectl set-hostname nombre</strong> y ya estaría cambiado el nombre de la maquina.</p>
<p>Para ver el nombre de la maquina usaremos <strong>hostname</strong> o <strong>hostnamectl</strong> que contiene mas información.</p>
<p>Para configurar la red, primero copiaremos el archivo de red <strong>/etc/netplan/50-cloud-init.yaml</strong> y lo llamaremos <strong>enp0s3.yaml</strong> en la misma carpeta.</p>
<pre><code class="language-bash"><span class="hljs-built_in">cd</span> ../../etc/netplan
<span class="hljs-built_in">cp</span> 50-cloud-init.yaml enp0s3.yaml
</code></pre>
<p>Despues editaremos el fichero de configuración del interface de red  <strong>/etc/netplan/enp0s3.yaml</strong> de la siguiente manera,</p>
<pre><code class="language-bash">sudo nano enp0s3.yaml
</code></pre>
<pre><code class="language-bash">
<span class="hljs-comment"># This is the network config written by &#x27;subiquity&#x27;</span>
network:
  version: 2
  ethernets:
    enp0s3:
      dhcp4: <span class="hljs-literal">false</span>
      dhcp6: <span class="hljs-literal">false</span>
      addresses: [10.199.9.174/22]
      nameservers:
        addresses: [10.151.123.21,10.151.126.21]
        search: [educa.jcyl.es]
      routes:
        - to : default
          via: 10.199.8.1
</code></pre>
<p>Despues de haber aplicado esta configuración haremos una copia de seguridad.</p>
<pre><code class="language-bash">sudo <span class="hljs-built_in">cp</span> enp0s3.yaml enp0s3.yaml.bk.fecha
</code></pre>
<p>Despues usaremos el comando <strong>sudo netplan apply</strong> para aplicar la configuración.</p>
<p>Probaremos si funciona haciendo ping a la gateway, al dns, a una pagina web y a otra maquina en la misma red.</p>
<pre><code class="language-bash">ping 10.199.11.84
ping 10.199.8.1
ping 10.151.123.21
ping www.google.com
</code></pre>
<p>Si obtenemos respuesta de todas correctamente, tendremos la configuración de red finalizada.</p>
<p>Podria ser que este desactivado en la red el protocolo para hacer ping fuera de esta y por esto no deje hacer ping al dns o a internet.</p>
<p>Para comprobar la ip usaremos <strong>ip a</strong></p>
<p><img src="file:///d:\Despliegue\JNCDAWProyectoDAW-main\webroot\img\ipa.png" alt="Alt"></p>
<p>Para comprobar la gateway usaremos <strong>ip r</strong></p>
<p><img src="file:///d:\Despliegue\JNCDAWProyectoDAW-main\webroot\img\ipr.png" alt="Alt"></p>
<p>Para comprobar los dns y el dominio usaremos <strong>resolvectl</strong></p>
<p><img src="file:///d:\Despliegue\JNCDAWProyectoDAW-main\webroot\img\resolvectl.png" alt="Alt"></p>
<h5 id="actualizar-el-sistema"><strong>Actualizar el sistema</strong></h5>
<pre><code class="language-bash">sudo apt update
sudo apt upgrade
</code></pre>
<h5 id="configuración-fecha-y-hora"><strong>Configuración fecha y hora</strong></h5>
<p>Para ver la informacion de la zona horaria, fecha y hora usaremos <strong>timedatectl</strong>, si no es correcto usaremos <strong>timedatectl set-timezone Europe/Madrid</strong> para establecer la zona horaria en madrid, para ver otras zonas horarias usaremos <strong>timedatectl list-timezones</strong> y sustituiremos Europe/Madrid por la zona horaria deseada.</p>
<p><a href="https://somebooks.es/establecer-la-fecha-hora-y-zona-horaria-en-la-terminal-de-ubuntu-20-04-lts/" title="Cambiar fecha y hora">Información mas detallada</a></p>
<h5 id="cuentas-administradoras"><strong>Cuentas administradoras</strong></h5>
<p>De base el sistema tiene la cuenta <strong>root</strong>, y la cuenta <em><strong>miadmin</strong></em> la habremos configurado en la instalación del sistema, esta ya sería administrador.</p>
<p>Tendremos que crear otra cuenta y hacerla administrador, esta se llamara <strong>miadmin2</strong>.</p>
<p>Primero comprobaremos los grupos del usuario <strong>miadmin</strong></p>
<pre><code class="language-bash"><span class="hljs-built_in">groups</span> miadmin
</code></pre>
<p>Despues crearemos el usuario <strong>miadmin2</strong> y le asignaremos todos los grupos de miadmin menos el grupo personal (El que tiene su nombre)</p>
<pre><code class="language-bash">sudo useradd -m -G  sudo,adm,cdrom,dip,plugdev miadmin2
</code></pre>
<p>Despues le pondremos contraseña.</p>
<pre><code class="language-bash">sudo passwd miadmin2
</code></pre>
<blockquote>
<ul class="contains-task-list">
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> root(inicio)</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> miadmin/paso</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> miadmin2/paso</li>
</ul>
</blockquote>
<h5 id="habilitar-cortafuegos"><strong>Habilitar cortafuegos</strong></h5>
<p>Primero usaremos el comando <strong>sudo ufw enable</strong> para habilitar el cortafuegos.</p>
<p>Despues usaremos el comando <strong>sudo ufw allow 22</strong> para permitir el acceso al puerto 22, el cual es el puerto de SSH, a partir de este momento la maquina podra ser operada en remoto desde la red.</p>
<p>Luego usaremos <strong>sudo ufw status numbered</strong> para comprobar el estado del cortafuegos y ver los puertos abiertos, usaremos <strong>sudo ufw delete 2 (O el numero de regla que sea)</strong> para cerrar el puerto 22 en ipV6, ya que representa una vulnerabilidad.</p>
<p>Por ultimo usaremos <strong>ufw status</strong> para ver el estado del cortafuegos y los puertos abiertos de este.</p>
<pre><code class="language-bash">sudo ufw <span class="hljs-built_in">enable</span>
sudo ufw allow 22
sudo ufw status numbered
sudo ufw delete 2
sudo ufw status
</code></pre>
<h5 id="memeoria-y-almacenamiento"><strong>Memeoria y almacenamiento</strong></h5>
<p>Para ver la memoria del sistema usaremos <strong>free -h</strong>.</p>
<p>Para ver el almacenamiento del sistema usaremos <strong>df -h</strong>.</p>
<h4 id="112-instalación-del-servidor-web">1.1.2 Instalación del servidor web</h4>
<p>Primero tendremos que actualizar el sistema, despues instalaremos apache2, luego comprobaremos que apache2 esta activo, si este esta activo tendremos que abrir el puerto 80 en el cortafuegos, luego quitaremos la regla de v6 ya que representa una vulnerabilidad, despues usaremos <strong>ufw status</strong> para ver que el puerto 80 esta abierto en este.</p>
<p>Si al entrar desde otro equipo a la ip del servidor sale apache works, el servidor funciona correctamente.</p>
<pre><code class="language-bash">sudo apt update
sudo apt upgrade
sudo apt install apache2
sudo systemctl status apache2
sudo ufw allow 80
sudo ufw delete 3 (o el numero de regla que sea)
sudo ufw status
</code></pre>
<p>Lo siguiente es crear las cuentas de los usuarios web, se pueden crar de 2 formas, con <strong>addduser</strong> puedes ponerle la contraseña en la creación de la cuenta y con <strong>useradd</strong> tienes que usar <strong>passwd</strong> para ponerle la contraseña.</p>
<pre><code class="language-bash">sudo adduser --home /var/www/html --shell /bin/bash --ingroup  www-data operadorweb

sudo useradd -d /var/www/html -s /bin/bash -G www-data operadorweb
sudo passwd operadorweb
</code></pre>
<p>Despues iremos al directorio <strong>/etc/apache2/sites-enabled</strong> y aqui cambiaremos el deirectorio de errores al deseado.</p>
<p>Recordar que primero el directorio debe existir.</p>
<pre><code class="language-bash">sudo nano /etc/apache2/sites-enabled/000-default.conf

        ErrorLog /var/www/html/error/error.log
</code></pre>
<p>Despues iremos al directorio <strong>/etc/apache2/apache2.conf</strong> y aqui cambiaremos el allow override del directorio <strong>/var/www/</strong> de none a All.</p>
<pre><code class="language-bash">sudo nano /etc/apache2/apache2.conf

&lt;Directory /var/www/&gt;
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
&lt;/Directory&gt;
</code></pre>
<p>Finalmente reiniciaremos el servicio apache2 y comprobaremos que funciona, si el servicio de apache2 funciona ya estara configurado.</p>
<pre><code class="language-bash">sudo systemctl restart apache2
sudo systemctl status apache2
</code></pre>
<h5 id="instalación">Instalación</h5>
<h5 id="verficación-del-servicio">Verficación del servicio</h5>
<h5 id="virtual-hosts">Virtual Hosts</h5>
<h5 id="permisos-y-usuarios">Permisos y usuarios</h5>
<h4 id="113-php">1.1.3 PHP</h4>
<h5 id="instalar-php">Instalar php</h5>
<p>Primero tendremos que instalar la libreria para las dependencias y despues las dependencias de php con <strong>ppa:ondrej/php</strong>, despues tendremos que revisar que se han insatalado correctamente.</p>
<pre><code class="language-bash">sudo apt install software-properties-common -y
sudo add-apt-repository ppa:ondrej/php -y

<span class="hljs-built_in">ls</span> /etc/apt/sources.list.d/ | grep ondrej
</code></pre>
<p>Luego tendremos que hacer update y upgrade e instalar php-fpm</p>
<pre><code class="language-bash">sudo apt update
sudo apt upgrade
sudo apt install php8.3-fpm -y
</code></pre>
<p>Despues tendremos que desabilitar y habilitar una serie de modulos para que apache se pueda comunicar con php-fpm.</p>
<pre><code class="language-bash">sudo a2enmod proxy_fcgi mpm_event
sudo a2dismod mpm_prefork
sudo a2enconf php8.3-fpm
</code></pre>
<p>Finalmente reiniciaremos apache y revisaremos sin ambos servicios funcionan correctamente.</p>
<pre><code class="language-bash">sudo systemctl restart apache2
sudo systemctl status apache2
sudo systemctl status php8.3-fpm
</code></pre>
<h5 id="configurar-php">Configurar php</h5>
<pre><code class="language-bash">/etc/php/8.3/fpm
Hacer copia de seguridad de php.ini
Cambiar:
  display_errors = On
  display_startup_errors = On
  memory_limit = 250M
</code></pre>
<h4 id="114-mysql">1.1.4 MySQL</h4>
<h4 id="115-xdebug">1.1.5 XDebug</h4>
<h4 id="116-dns">1.1.6 DNS</h4>
<h4 id="117-sftp">1.1.7 SFTP</h4>
<h4 id="118-apache-tomcat">1.1.8 Apache Tomcat</h4>
<h4 id="119-ldap">1.1.9 LDAP</h4>
<h3 id="12-windows-11">1.2 Windows 11</h3>
<h4 id="121-configuración-inicial">1.2.1 <strong>Configuración inicial</strong></h4>
<h5 id="nombre-y-configuración-de-red"><strong>Nombre y configuración de red</strong></h5>
<h5 id="cuentas-administradoras-1"><strong>Cuentas administradoras</strong></h5>
<h4 id="122-navegadores">1.2.2 <strong>Navegadores</strong></h4>
<h4 id="123-filezilla">1.2.3 <strong>FileZilla</strong></h4>
<h4 id="124-netbeans">1.2.4 <strong>Netbeans</strong></h4>
<h5 id="creación-de-proyectos"><strong>Creación de proyectos</strong></h5>
<p>Al crear un proyecto seleccionar <strong>PHP -&gt; PHP Application</strong></p>
<p>Los proyectos han de estar localizados en la carpeta de proyectos, todos al nivel base, el proyecto y la carpeta han de ser iguales.</p>
<p>Hay que seleccionar <strong>Run as: Remote Web Site</strong>, lo siguiente hay que crear una conexion con el servidor web.</p>
<p>En la pantalla de creación de conexión hay que ponerle un nombre significativo a la coenxión, como el nombre de la maquina a la que se conecta, hay que poner la ip de la maquina y el puerto usado en sftp(22), el usuario web que se vaya a usar para subir los archivos y su contraseña, el resto se deja por defecto.</p>
<p>Despues hay que probar la conexión para ver que funciona bien. (Si dice que la autenticidad no se puede comprobar no importa).</p>
<p><img src="file:///d:\Despliegue\JNCDAWProyectoDAW-main\webroot\img\remoteConexion.png" alt="Alt"></p>
<p>El directorio de subida tambien se tiene que llamar igual que el proyecto.</p>
<p>El metodo de subida puede ser al guardar o al lanzar el proyecto, a preferencia del usuario.</p>
<p>Para borrar un proyecto solamente hay que hacer click derecho en el proyecto y darle a <strong>borrar</strong></p>
<h4 id="125-visual-studio-code">1.2.5 <strong>Visual Studio Code</strong></h4>
<h2 id="2-github">2. GitHub</h2>
<h2 id="3entorno-de-explotación">3.Entorno de Explotación</h2>
<hr>
<blockquote>
<p><strong>James Edward Nuñez Cuzcano</strong><br>
Curso: 2025/2026<br>
2º Curso CFGS Desarrollo de Aplicaciones Web<br>
Despliegue de aplicaciones web</p>
</blockquote>

            
            
        </body>
        </html>